version: '3'

services:

  dependency-checks-go:
    build: ./dependencies/go
    volumes:
      - ./reports:/repo-dependency-checker/reports
      - ./repos:/repo-dependency-checker/repos
      - ./utils:/repo-dependency-checker/utils

  dependency-checks-java:
    build: ./dependencies/java
    volumes:
      - ./reports:/repo-dependency-checker/reports
      - ./repos:/repo-dependency-checker/repos
      - ./utils:/repo-dependency-checker/utils

  dependency-checks-kotlin:
    build: ./dependencies/kotlin
    volumes:
      - ./reports:/repo-dependency-checker/reports
      - ./repos:/repo-dependency-checker/repos
      - ./utils:/repo-dependency-checker/utils

  dependency-checks-node:
    build: ./dependencies/node
    volumes:
      - ./reports:/repo-dependency-checker/reports
      - ./repos:/repo-dependency-checker/repos
      - ./utils:/repo-dependency-checker/utils

  dependency-checks-perl:
    build: ./dependencies/perl
    volumes:
      - ./reports:/repo-dependency-checker/reports
      - ./repos:/repo-dependency-checker/repos
      - ./utils:/repo-dependency-checker/utils

  dependency-checks-php:
    build: ./dependencies/php
    volumes:
      - ./reports:/repo-dependency-checker/reports
      - ./repos:/repo-dependency-checker/repos
      - ./utils:/repo-dependency-checker/utils

  dependency-checks-python:
    build: ./dependencies/python
    volumes:
      - ./reports:/repo-dependency-checker/reports
      - ./repos:/repo-dependency-checker/repos
      - ./utils:/repo-dependency-checker/utils

  dependency-checks-ruby:
    build: ./dependencies/ruby
    volumes:
      - ./reports:/repo-dependency-checker/reports
      - ./repos:/repo-dependency-checker/repos
      - ./utils:/repo-dependency-checker/utils

  dependency-checks-csharp:
    build: ./dependencies/csharp
    volumes:
      - ./reports:/repo-dependency-checker/reports
      - ./repos:/repo-dependency-checker/repos
      - ./utils:/repo-dependency-checker/utils

  # vulnerability-checks-docker:
  #   build: ./vulnerabilities/docker
  #   volumes:
  #     - ./reports:/repo-vulnerability-checker/reports
  #     - ./repos:/repo-vulnerability-checker/repos
  #     - ./utils:/repo-vulnerability-checker/utils
  #     - /var/run/docker.sock:/var/run/docker.sock

  vulnerability-checks-terraform:
    build: ./vulnerabilities/terraform
    volumes:
      - ./reports:/repo-vulnerability-checker/reports
      - ./repos:/repo-vulnerability-checker/repos
      - ./utils:/repo-vulnerability-checker/utils

  vulnerability-checks-gitleaks:
    build: ./vulnerabilities/gitleaks
    volumes:
      - ./reports:/repo-vulnerability-checker/reports
      - ./repos:/repo-vulnerability-checker/repos
      - ./utils:/repo-vulnerability-checker/utils

volumes:
    reports:
    repos:
    utils:
